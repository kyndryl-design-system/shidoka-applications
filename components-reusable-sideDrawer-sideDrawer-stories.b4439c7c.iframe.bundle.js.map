{"version":3,"file":"components-reusable-sideDrawer-sideDrawer-stories.b4439c7c.iframe.bundle.js","mappings":";;;;;;;;;;;;;;AAmCA;AAqEA;;;;;AAKA;;;AAGA;;;;;AAKA;AAGA;;;;;;AAMA;;AAEA;;;;;;;;;;;AAWA;;;;;AAMA;AACA;AACA;;AAEA;;;;;;AAMA;;AAEA;;;;;;AAQA;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA","sources":["webpack://@kyndryl-design-system/shidoka-applications/./src/components/reusable/sideDrawer/sideDrawer.ts","webpack://@kyndryl-design-system/shidoka-applications/"],"sourcesContent":["import { LitElement, html, css } from 'lit';\nimport { customElement, property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport SideDrawerScss from './sideDrawer.scss';\n\nimport '@kyndryl-design-system/shidoka-foundation/components/button';\nimport '@kyndryl-design-system/shidoka-foundation/components/icon';\nimport closeIcon from '@carbon/icons/es/close/32';\n\n/**\n * Side Drawer.\n * @slot unnamed - Slot for drawer body content.\n * @slot anchor - Slot for the anchor button content.\n * @fires on-close - Emits the drawer close event with `returnValue` (`'ok'` or `'cancel'`).\n */\n\n@customElement('kyn-side-drawer')\nexport class SideDrawer extends LitElement {\n  static override styles = [\n    SideDrawerScss,\n    css`\n      @supports (transition-behavior: allow-discrete) {\n        @starting-style {\n          dialog[open] {\n            transform: translateX(100%);\n          }\n        }\n\n        @starting-style {\n          dialog[open]::backdrop {\n            background-color: rgb(0, 0, 0, 0);\n          }\n        }\n      }\n    `,\n  ];\n\n  /**\n   * Drawer open state.\n   */\n  @property({ type: Boolean })\n  open = false;\n\n  /**\n   * Drawer size. `'md'`, or `'sm'`.\n   */\n  @property({ type: String })\n  size = 'md';\n\n  /**\n   * Title / Heading text, required.\n   */\n  @property({ type: String })\n  titleText = '';\n\n  /**\n   * Label text, optional.\n   */\n  @property({ type: String })\n  labelText = '';\n\n  /**\n   * Submit button text.\n   */\n  @property({ type: String })\n  submitBtnText = 'Ok';\n\n  /**\n   * Cancel button text.\n   */\n  @property({ type: String })\n  cancelBtnText = 'Cancel';\n\n  /** Disables the primary button. */\n  @property({ type: Boolean })\n  submitBtnDisabled = false;\n\n  /** Determine whether needs footer */\n  @property({ type: Boolean })\n  hideFooter = false;\n\n  /** Changes the primary button styles to indicate the action is destructive. */\n  @property({ type: Boolean })\n  destructive = false;\n\n  /** Function to execute before the Drawer can close. Useful for running checks or validations before closing. Exposes `returnValue` (`'ok'` or `'cancel'`). Must return `true` or `false`. */\n  @property({ attribute: false })\n  beforeClose!: Function;\n\n  /** The dialog element\n   * @internal\n   */\n  @query('dialog')\n  _dialog!: any;\n\n  override render() {\n    const classes = {\n      modal: true,\n      dialog: true,\n      'size--md': this.size === 'md',\n      'size--sm': this.size === 'sm',\n    };\n\n    return html`\n      <button class=\"anchor\" @click=${this._openDrawer}>\n        <slot name=\"anchor\"></slot>\n      </button>\n\n      <dialog\n        class=\"${classMap(classes)}\"\n        autofocus\n        aria-labelledby=\"dialogLabel\"\n        @cancel=${(e: Event) => this._closeDrawer(e, 'cancel')}\n      >\n        <!--  Header -->\n        <header>\n          <div class=\"header-label-title\">\n            ${this.labelText !== ''\n              ? html`<span class=\"label\">${this.labelText}</span>`\n              : null}\n            <h1 id=\"dialogLabel\">${this.titleText}</h1>\n          </div>\n\n          <div class=\"close-wrapper\">\n            <button\n              class=\"close\"\n              @click=${(e: Event) => this._closeDrawer(e, 'cancel')}\n            >\n              <kd-icon .icon=${closeIcon}></kd-icon>\n            </button>\n          </div>\n        </header>\n\n        <!-- Body -->\n        <div class=\"body\">\n          <slot></slot>\n        </div>\n\n        <!-- footer -->\n        ${!this.hideFooter\n          ? html`\n              <div class=\"dialog-footer\">\n                <div class=\"actions\">\n                  <kd-button\n                    value=\"Ok\"\n                    ?disabled=${this.submitBtnDisabled}\n                    ?destructive=${this.destructive}\n                    @click=${(e: Event) => this._closeDrawer(e, 'ok')}\n                  >\n                    ${this.submitBtnText}\n                  </kd-button>\n\n                  <kd-button\n                    value=\"Cancel\"\n                    kind=\"secondary\"\n                    @click=${(e: Event) => this._closeDrawer(e, 'cancel')}\n                  >\n                    ${this.cancelBtnText}\n                  </kd-button>\n                </div>\n              </div>\n            `\n          : null}\n      </dialog>\n    `;\n  }\n\n  private _openDrawer() {\n    this.open = true;\n  }\n\n  private _closeDrawer(e: Event, returnValue: string) {\n    if (\n      !this.beforeClose ||\n      (this.beforeClose && this.beforeClose(returnValue))\n    ) {\n      this.open = false;\n      this._dialog.returnValue = returnValue;\n      this._emitCloseEvent(e);\n    }\n  }\n\n  private _emitCloseEvent(e: Event) {\n    const event = new CustomEvent('on-close', {\n      detail: {\n        returnValue: this._dialog.returnValue,\n        origEvent: e,\n      },\n    });\n    this.dispatchEvent(event);\n  }\n\n  override updated(changedProps: any) {\n    if (changedProps.has('open')) {\n      if (this.open) {\n        this._dialog.showModal();\n      } else {\n        this._dialog.close();\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'kyn-side-drawer': SideDrawer;\n  }\n}\n"],"names":[],"sourceRoot":""}